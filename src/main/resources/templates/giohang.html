<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<!-- ğŸŒ¿ SEO -->
<title>ğŸ›’ Giá» hÃ ng | ThiÃªn NhiÃªn Garden - CÃ¢y Cáº£nh & Hoa TÆ°Æ¡i</title>
<meta name="description"
	content="Giá» hÃ ng ThiÃªn NhiÃªn Garden - Xem láº¡i cÃ¢y cáº£nh, hoa tÆ°Æ¡i vÃ  sáº£n pháº©m báº¡n Ä‘Ã£ chá»n. Cáº­p nháº­t sá»‘ lÆ°á»£ng, thanh toÃ¡n nhanh chÃ³ng vÃ  an toÃ n.">
<meta name="keywords"
	content="giá» hÃ ng, ThiÃªn NhiÃªn Garden, cÃ¢y cáº£nh, hoa tÆ°Æ¡i, mua cÃ¢y cáº£nh online, phÃ¢n bÃ³n, cÃ¢y phong thá»§y, thanh toÃ¡n">
<meta name="robots" content="index, follow">
<meta name="author" content="NhÃ³m Java Spring Boot">

<!-- ğŸŒ¸ OPEN GRAPH -->
<meta property="og:title" content="Giá» hÃ ng - ThiÃªn NhiÃªn Garden">
<meta property="og:description"
	content="Giá» hÃ ng cá»§a báº¡n táº¡i ThiÃªn NhiÃªn Garden - nÆ¡i mua cÃ¢y cáº£nh vÃ  hoa tÆ°Æ¡i cháº¥t lÆ°á»£ng.">
<meta property="og:image" content="/images/banner1.jpg">
<meta property="og:url" content="http://localhost:8080/giohang">
<meta property="og:type" content="website">
<meta property="og:locale" content="vi_VN">

<!-- ğŸ¨ CSS -->
<link rel="stylesheet" th:href="@{/css/giohang.css}">
<link
	href="https://fonts.googleapis.com/css2?family=Parisienne&family=Quicksand:wght@400;500;600;700&display=swap"
	rel="stylesheet">
</head>

<body>
	<!-- ğŸª´ HEADER -->
	<header class="hdr">
		<div class="hdr-left">
			<a href="/" class="logo"> <img src="/images/logo.jpg"
				alt="Logo ThiÃªn NhiÃªn Garden" class="logo-img">
				<h1>ThiÃªn NhiÃªn Garden</h1>
			</a>
			<nav class="hnav">
				<a href="/">Trang chá»§</a> <a href="/sanpham">Sáº£n pháº©m</a> <a
					th:href="@{/giohang(maKH=${session.maKH})}" class="active">Giá»
					hÃ ng</a> <a href="/gioithieu">Giá»›i thiá»‡u</a> <a href="/lienhe">LiÃªn
					há»‡</a>
			</nav>
		</div>

		<div class="hdr-center">
			<form class="search" method="get" action="/sanpham">
				<input type="text" name="keyword" placeholder="TÃ¬m kiáº¿m sáº£n pháº©m...">
				<button type="submit">TÃ¬m</button>
			</form>
		</div>

		<div class="hdr-right">
			<a th:if="${session.tenDangNhap == null}" href="/dangnhap"
				class="login-link">ÄÄƒng nháº­p</a>
			<div th:if="${session.tenDangNhap != null}" class="user-info">
				<div class="avatar"
					th:text="${#strings.substring(session.tenDangNhap,0,1).toUpperCase()}"></div>
				<div class="user-text">
					<span class="username" th:text="${session.tenDangNhap}"></span> <a
						href="/dangxuat" class="logout">ÄÄƒng xuáº¥t</a>
				</div>
			</div>
		</div>
	</header>


	<!-- ğŸŒ¸ BANNER -->
	<section class="slider">
		<div class="slides">
			<img src="/images/banner1.jpg" class="active"
				alt="CÃ¢y cáº£nh phong thá»§y"> <img src="/images/banner2.jpg"
				alt="Hoa tÆ°Æ¡i táº·ng ngÆ°á»i thÃ¢n"> <img src="/images/banner3.jpg"
				alt="PhÃ¢n bÃ³n & phá»¥ kiá»‡n lÃ m vÆ°á»n">
		</div>
		<div class="dots">
			<span class="dot active"></span> <span class="dot"></span> <span
				class="dot"></span>
		</div>
	</section>

	<!-- ğŸŒ¿ GIá» HÃ€NG -->
	<section class="cart-section">
		<h2>
			ğŸ›’ Giá» hÃ ng cá»§a <span th:text="${gioHang.khachHang.hoTen}"></span>
		</h2>

		<form th:action="@{/giohang/thanhtoan}" method="post"
			class="payment-form">
			<input type="hidden" name="maKH" th:value="${gioHang.khachHang.maKH}" />

			<div class="cart-list">
				<div class="cart-item" th:each="ct : ${chiTietList}">
					<input type="checkbox" class="select-item" name="chonSP"
						th:data-price="${ct.sanPham.donGia * ct.soLuong}"
						th:value="${ct.sanPham.maSP}"> <img class="cart-img"
						th:src="@{/images/{img}(img=${ct.sanPham.anhChinh})}"
						alt="áº¢nh sáº£n pháº©m">

					<div class="cart-info">
						<h3 th:text="${ct.sanPham.tenSP}"></h3>
						<p class="price"
							th:text="${#numbers.formatDecimal(ct.sanPham.donGia,0,'COMMA',0,'POINT')} + ' Ä‘'"></p>

						<div class="quantity">
							<label>Sá»‘ lÆ°á»£ng:</label> <input type="number" name="soLuong"
								min="1" th:value="${ct.soLuong}">
						</div>

						<p class="subtotal">
							ThÃ nh tiá»n: <span
								th:text="${#numbers.formatDecimal(ct.sanPham.donGia * ct.soLuong,0,'COMMA',0,'POINT')} + ' Ä‘'"></span>
						</p>
					</div>

					<a class="btn remove"
						th:href="@{/giohang/xoa(maGH=${ct.gioHang.maGH}, maSP=${ct.sanPham.maSP}, maKH=${gioHang.khachHang.maKH})}">
						âŒ XÃ³a </a>
				</div>
			</div>

			<div class="cart-summary">
				<label><input type="checkbox" id="selectAll"> Chá»n
					táº¥t cáº£</label>
				<div class="total">
					Tá»•ng tiá»n: <span id="totalPrice">0 Ä‘</span>
				</div>
			</div>

			<div class="shipping">
				<h3>ğŸšš Äá»‹a chá»‰ giao hÃ ng</h3>
				<input type="text" name="diaChiGiao"
					placeholder="Nháº­p Ä‘á»‹a chá»‰ cá»§a báº¡n" required>
			</div>

			<div class="pay-method">
				<h3>ğŸ’³ PhÆ°Æ¡ng thá»©c thanh toÃ¡n</h3>
				<select name="phuongThuc">
					<option value="Tiá»n máº·t khi nháº­n hÃ ng">Tiá»n máº·t khi nháº­n
						hÃ ng</option>
					<option value="Chuyá»ƒn khoáº£n">Chuyá»ƒn khoáº£n ngÃ¢n hÃ ng</option>
				</select>
			</div>

			<button type="submit" class="btn-buy-all">ğŸ’š Thanh toÃ¡n sáº£n
				pháº©m Ä‘Ã£ chá»n</button>
		</form>
	</section>

	<!-- ğŸŒ± FOOTER -->
	<footer class="ftr">
		Â© 2025 ThiÃªn NhiÃªn Garden ğŸŒ± | <a
			href="mailto:nguyentramhuong22@gmail.com">LiÃªn há»‡</a>
	</footer>

	<!-- ğŸï¸ SCRIPT -->
	<script>
    // Banner
    let index = 0;
    const slides = document.querySelectorAll('.slides img');
    const dots = document.querySelectorAll('.dot');
    function showSlide(i) {
      slides.forEach((img, n) => img.classList.toggle('active', n === i));
      dots.forEach((d, n) => d.classList.toggle('active', n === i));
    }
    function nextSlide() { index = (index + 1) % slides.length; showSlide(index); }
    dots.forEach((dot, i) => dot.addEventListener('click', () => { index = i; showSlide(index); }));
    setInterval(nextSlide, 4000);

    // TÃ­nh tá»•ng tiá»n
    const selectAll = document.getElementById('selectAll');
    const checkboxes = document.querySelectorAll('.select-item');
    const totalPriceEl = document.getElementById('totalPrice');
    function updateTotal() {
      let total = 0;
      checkboxes.forEach(chk => {
        if (chk.checked) total += parseFloat(chk.dataset.price || 0);
      });
      totalPriceEl.textContent = total.toLocaleString('vi-VN') + ' Ä‘';
    }
    checkboxes.forEach(chk => chk.addEventListener('change', updateTotal));
    if (selectAll) {
      selectAll.addEventListener('change', e => {
        checkboxes.forEach(chk => chk.checked = e.target.checked);
        updateTotal();
      });
    }
  </script>
</body>
</html>
